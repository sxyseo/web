<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Canvas 图形保存</title>
</head>
<body onload="draw('canvas')">
    <canvas id="canvas" width="300px" height="300px"></canvas>
    <script>
        function draw(id) {
            var canvas = document.getElementById(id);
            var context = canvas.getContext('2d');
            context.fillStyle = "green";
            context.fillRect(0, 0, 400, 300);
            //window.location = canvas.toDataURL('image/png');
            window.location = canvas.toDataURL('image/jpeg');
        }
    </script>
</body>
</html>